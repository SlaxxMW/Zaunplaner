:root{
      /* Zaunteam Mid-Dark (kräftig, aber nicht zu dunkel) */
      --bg1:#111827;          /* slate-900 */
      --bg2:#334155;          /* slate-700 */
      --panel:#253247;        /* panel */
      --card:#1f2a3d;         /* card */
      --card2:#22314a;

      --field:#2a3b55;        /* input background */
      --field2:#314766;

      --line:rgba(255,255,255,.16);
      --line2:rgba(122,193,65,.40);

      --txt:#f8fafc;
      --muted:#e2e8f0;

      --green:#7ac141;        /* Zaunteam green */
      --green2:#b7f36b;       /* brighter */
      --red:#e53935;          /* Zaunteam red */
      --red2:#ff6b63;

      --pill:rgba(122,193,65,.22);
      --pill2:rgba(0,166,251,.14);

      --shadow:0 14px 34px rgba(0,0,0,.32);
      --shadow2:0 6px 18px rgba(0,0,0,.24);

      --r:16px;
    }
    *{ box-sizing:border-box; }
    html,body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--txt);
      background:
        radial-gradient(1200px 800px at 10% 0%, rgba(122,193,65,.18), transparent 55%),
        radial-gradient(1000px 700px at 95% 20%, rgba(229,57,53,.12), transparent 55%),
        radial-gradient(900px 650px at 60% 110%, rgba(0,166,251,.12), transparent 60%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
    }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--txt);
      background:
        radial-gradient(900px 420px at 10% 0%, rgba(200,31,54,.10), transparent 60%),
        radial-gradient(900px 420px at 90% 0%, rgba(0,0,0,.08), transparent 60%),
        var(--bg);
    }
    .wrap{ max-width:1160px; margin:0 auto; padding:14px; }

    /* Full-bleed Card (z.B. Zaunabschnitte) – bricht aus der max-width aus */
    .fullBleed{
      width: calc(100vw - 28px);
      margin-left: calc(50% - 50vw + 14px);
      margin-right: calc(50% - 50vw + 14px);
    }
    @media (max-width:860px){
      .fullBleed{ width:100%; margin-left:0; margin-right:0; }
    }
    .topbar{
      background:linear-gradient(180deg, rgba(31,42,61,.92), rgba(34,49,74,.86));
      border:1px solid var(--line);
      border-radius:var(--r);
      box-shadow:var(--shadow);
      padding:12px;
      position:relative;
      overflow:hidden;
    }
    /* Zaunteam Stripe */
    .topbar:before{
      content:"";
      position:absolute;
      left:0; right:0; top:0;
      height:6px;
      background:linear-gradient(90deg, var(--green), var(--green2), var(--red), var(--red2));
      opacity:.95;
    }
    .toprow{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .brand{
      font-weight:950;
      letter-spacing:.2px;
      color:var(--green2);
      text-shadow:0 1px 0 rgba(0,0,0,.35);
    }
    .brand small{
      font-weight:800;
      color:rgba(226,232,240,.92);
      font-size:12px;
    }
    .row{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:6px 10px;
      border-radius:999px;
      background:linear-gradient(180deg, rgba(122,193,65,.22), rgba(0,166,251,.10));
      border:1px solid rgba(255,255,255,.14);
      font-size:12px;
      color:var(--txt);
      white-space:nowrap;
    }
    .pill.good{ border-color:#bfe6bf; background:#e9f6e9; color:var(--good); }
    .pill.bad{ border-color:#f2b6c0; background:#fde9ee; color:var(--bad); }
    .pill.accent{ border-color:rgba(200,31,54,.35); background:rgba(200,31,54,.10); color:var(--accent2); }

    .tabs{ display:flex; gap:8px; margin-top:12px; flex-wrap:wrap; }
    .tabBtn{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(17,24,39,.55);
      color:var(--txt);
      padding:9px 12px;
      border-radius:14px;
      cursor:pointer;
      font-weight:900;
      box-shadow:var(--shadow2);
    }
    .tabBtn:hover{ transform: translateY(-1px); }
    .tabBtn.active{
      background:linear-gradient(180deg, rgba(122,193,65,.35), rgba(122,193,65,.18));
      color:var(--txt);
      border-color:rgba(122,193,65,.65);
      box-shadow:0 0 0 3px rgba(122,193,65,.12), var(--shadow2);
    }

    .panel{
      margin-top:12px;
      background:linear-gradient(180deg, rgba(37,50,71,.92), rgba(31,42,61,.92));
      border:1px solid var(--line);
      border-radius:var(--r);
      box-shadow:var(--shadow);
      padding:14px;
    }
    h2{ margin:0 0 10px; font-size:18px; }
    label{ display:block; font-size:12px; color:rgba(226,232,240,.92); margin:8px 0 4px; }
    .inputBlock{}
    input, select, textarea{
      width:100%;
      padding:10px 10px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background:linear-gradient(180deg, var(--field), var(--field2));
      color:var(--txt);
      font-size:14px;
      outline:none;
    }
    input:focus, select:focus, textarea:focus{
      border-color: rgba(200,31,54,.55);
      box-shadow: 0 0 0 4px rgba(200,31,54,.12);
    }
    textarea{ min-height:92px; resize:vertical; }
    .grid2{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }
    .grid3{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; }
    @media (max-width:860px){ .grid2,.grid3{ grid-template-columns:1fr; } }

    .btn{
      border:1px solid rgba(255,255,255,.12);
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      color:var(--txt);
      padding:10px 12px;
      border-radius:14px;
      cursor:pointer;
      font-weight:950;
      transition:transform .08s ease, box-shadow .12s ease, filter .12s ease;
      box-shadow:var(--shadow2);
    }
    .btn:hover{ filter:brightness(1.06); }
    .btn:active{ transform:translateY(1px); }
    .btn:hover{ filter:brightness(1.02); }
    .btn:active{ transform:translateY(1px); box-shadow:0 2px 8px rgba(2,6,23,.12); }

    .btn:hover{ transform: translateY(-1px); }
    .btn.bad{ border-color:#f2b6c0; color:var(--bad); }
    .ph .btn.bad{ background:rgba(229,57,53,.95); color:#fff; border-color:rgba(229,57,53,.65); box-shadow:0 10px 20px rgba(0,0,0,.35); }
    .ph .btn.bad:hover{ filter:brightness(1.05); }
    .btn.good{ border-color:#bfe6bf; color:var(--good); }
    .btn.accent{ border-color:rgba(200,31,54,.45); background:rgba(200,31,54,.10); }
    .btn.small{ padding:7px 10px; font-size:12px; border-radius:12px; }
    .btn.green{ background:linear-gradient(180deg, rgba(122,193,65,.42), rgba(122,193,65,.18)); border-color:rgba(122,193,65,.70); color:#052e16; }
    .btn.blue{ background:linear-gradient(180deg, rgba(0,166,251,.38), rgba(0,166,251,.14)); border-color:rgba(0,166,251,.60); color:#001a33; }
    .btn.orange{ background:linear-gradient(180deg, rgba(245,158,11,.45), rgba(245,158,11,.16)); border-color:rgba(245,158,11,.70); color:#2a1200; }
    .btn.purple{ background:linear-gradient(180deg, rgba(99,102,241,.40), rgba(99,102,241,.14)); border-color:rgba(99,102,241,.65); color:#0b1026; }
    .btn.dark{ background:linear-gradient(180deg, rgba(229,57,53,.42), rgba(229,57,53,.18)); border-color:rgba(229,57,53,.70); color:#2a0000; }
    .btn.green:hover,.btn.blue:hover,.btn.orange:hover,.btn.purple:hover,.btn.dark:hover{ filter:brightness(1.08); }
    .btn.green:hover,.btn.blue:hover,.btn.orange:hover,.btn.purple:hover,.btn.dark:hover{ filter:brightness(1.04); }


    .hint{ color:rgba(226,232,240,.92); font-size:13px; }

    .card{
      border:1px solid var(--line);
      border-radius:16px;
      padding:12px;
      background:linear-gradient(180deg, rgba(31,42,61,.92), rgba(34,49,74,.92));
      box-shadow:var(--shadow2);
      margin-top:10px;
    }
    .cardTitle{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .meta{ color:rgba(226,232,240,.92); font-size:12px; margin-top:4px; }

    /* Gate UI */
    .gateRow{
      display:grid;
      grid-template-columns: 1fr 1fr 1fr auto;
      gap:10px;
      align-items:end;
      padding:10px;
      border:1px dashed var(--line);
      border-radius:14px;
      margin-top:10px;
      background: linear-gradient(180deg, rgba(31,42,61,.92), rgba(34,49,74,.92));
    }
    .gateAct{ display:flex; gap:8px; }
    @media (max-width:860px){
      .gateRow{ grid-template-columns:1fr; }
      .gateAct{ justify-content:flex-end; }
    }

    /* Fotos */
    #photoGrid{
      display:grid;
      grid-template-columns:repeat(3, 1fr);
      gap:10px;
    }
    @media (max-width:860px){ #photoGrid{ grid-template-columns:repeat(2, 1fr);} }
    .ph{
      border:1px dashed var(--line);
      border-radius:16px;
      padding:10px;
      background:linear-gradient(180deg, rgba(31,42,61,.92), rgba(34,49,74,.92));
      min-height:140px;
      position:relative;
    }
    .ph img{ width:100%; border-radius:14px; display:block; border:1px solid rgba(255,255,255,.14); box-shadow:0 10px 22px rgba(0,0,0,.35); }
    .ph input[type=file]{ width:100%; }
    .ph .cardTitle{ padding:2px 0 4px 0; }
    .ph .meta{ color:rgba(226,232,240,.92); }

    #toast{
      display:none;
      position:fixed;
      left:50%;
      transform:translateX(-50%);
      bottom:18px;
      z-index:9999;
      max-width:min(720px, calc(100% - 22px));
      background:linear-gradient(90deg, rgba(122,193,65,.28), rgba(229,57,53,.22), rgba(0,166,251,.22), rgba(17,24,39,.95));
      color:#fff;
      padding:10px 14px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      box-shadow:0 14px 38px rgba(0,0,0,.45);
      font-weight:900;
      font-size:13px;
    }
  
    /* Dropdown readability (native dropdown lists) */
    select{ color:var(--txt); }
    select option{ background:#f8fafc; color:#0f172a; }
    /* Safari/iOS sometimes uses optgroup */
    optgroup{ background:#f8fafc; color:#0f172a; }

    /* Materialliste kompakt (Chef) */
    #matList details{ border:1px solid var(--line); border-radius:16px; overflow:hidden; background:rgba(255,255,255,.04); }
    #matList summary{ cursor:pointer; padding:10px 12px; font-weight:900; list-style:none; display:flex; align-items:center; justify-content:space-between; gap:10px; }
    #matList summary::-webkit-details-marker{ display:none; }
    .matRows{ padding:10px 12px 12px; display:flex; flex-direction:column; gap:8px; }
    .matRow{
      border:1px solid var(--line);
      border-radius:14px;
      padding:10px;
      background:linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
      display:grid;
      grid-template-columns: 1fr 110px 90px 44px;
      gap:8px;
      align-items:center;
    }
    .matRow .matName{ font-weight:900; }
    .matRow input{ padding:8px 10px; border-radius:12px; }
    .matRow select{ padding:8px 10px; border-radius:12px; }
    .matRow .btn{ padding:8px 10px; border-radius:12px; }
    @media (max-width:820px){
      .matRow{ grid-template-columns: 1fr 110px 90px 44px; }
    }

  .isDisabled{ opacity:0.65; filter:saturate(0.85); }

  /* Modal (Import-Report / Fehlermeldungen) */
  .modalHost{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.55);
    display:none;
    align-items:center;
    justify-content:center;
    padding:14px;
    z-index:9999;
  }
  .modalCard{
    max-width:820px;
    width:100%;
    background:linear-gradient(180deg, rgba(31,42,61,.98), rgba(34,49,74,.96));
    border:1px solid var(--line);
    border-radius:18px;
    box-shadow:var(--shadow);
    padding:14px;
  }
  .modalTitle{ font-weight:950; font-size:16px; margin-bottom:8px; }
  .modalBody{ font-size:13px; color:rgba(226,232,240,.92); }
  .modalBody code{ background:rgba(255,255,255,.08); padding:1px 6px; border-radius:8px; }
  .modalBtns{ display:flex; gap:8px; justify-content:flex-end; flex-wrap:wrap; margin-top:12px; }
